<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>Nintendo Statistics</title>
  </head>
  <body>
    <div class="grid-layer"></div>
    <div class="halo-layer"></div>
    <div class="path"></div>
    <div class="container_character"><img src="img/Bonhomme/sprite_down.png" class="character" /></div>

    <nav>
    </nav>

    <div id="intro">
  <div id="container_tv" class="anim-tv"><img src="img/tv/tv_sprite.webp" class="tv"></div>
</div>


    <div class="etape1">

    <div class="imgG">
      <h1>La naissance d’une légende</h1>
      <img src="img/nes.webp" class="imgsG" alt="image de NES pixellisée" />
      <p>Te voilà arrivé au premier checkpoint : celui de la Nintendo Entertainment System (la NES pour les intimes…ou
        plutôt pour tout le monde). Nous sommes en 1982, la NES fait son entrée sur le marché japonais puis sur le
        marché américain en 1985. C’est sur cette console que de nombreuses franchises mémorables ont débutée: Metroid
        et Dragon Quest en 1986, Final Fantasy en 1987… Bien sûr, sans oublier celle qui est devenue le visage du jeu
        vidéo : Super Mario Bros en 1985. Tous ces jeux ont aidé Nintendo à se créer un véritable arsenal qui l’aidera à
        monter en puissance.</p>
    </div>

    <div class="graphD graph">
      <canvas id="myChart"></canvas>
    </div>
  </div>

    <div class="etape2">
    <div class="graphG graph">
      <div id="podium" class="podium"></div>
      <div id="liste_classement" class="liste_classement"></div>
    </div>
    <div class="imgD">
      <h1>En route vers le sommet</h1>
      <img src="img/gameboy.webp" class="imgsD" alt="image de gameboy pixellisée" />
      <p>Tu es maintenant au deuxième checkpoint : celui de la GameBoy. Nintendo n’en était pas à son coup d’essai et
        voulait marquer les esprits une seconde fois. C'est alors qu’il sort la GameBoy et c'est là que tout va changer.
        Elle était tellement populaire qu’elle eut droit à une panoplie de variantes : GameBoy Color, GameBoy Advance,
        GameBoy micro… C’est aussi sur cette console que les Pokémon ont fait leur arrivée. En bref, c'est le carton
        plein. </p>
    </div>
  </div>

  <div class="etape3">
    <div class="imgG">
      <h1>Des rivaux à l’horizon</h1>
      <img src="img/PS1.webp" class="imgsG" alt="image de Playstation 1 pixellisée" />
      <p>Tu es maintenant au troisième checkpoint : celui de la guerre des consoles. Une histoire serait ennuyeuse s’il
        n'y avait pas des adversaires pour nous mettre des bâtons dans les roues. Cet adversaire prend le nom de Sega.
        Pendant une dizaine d'années, les deux empires se sont livré une guerre sans merci. D’un côté Sega avec sa
        Megadrive, Sega Saturn ainsi que Sonic en tête de l’armée et de l’autre Nintendo avec sa NES, GameBoy, Nintendo
        64 et Mario en tant que représentant. Puis un nouveau concurrent plus dangereux arrive en 1994 : Sony. Avec une puissance
        inégalée jusque-là et des univers de jeu plus matures; Sony montre qu’il n’est pas là pour rigoler avec ses Playstation. </p>

    </div>
    <div class="graphD graph">
      <canvas id="nintendovssony"></canvas>
    </div>
  </div>

  <div class="etape4">

    <div class="imgD">
      <h1>Savoir renaître de ses cendres</h1>
      <img src="img/wiiU.webp" class="imgsWiiu" alt="image de Wii U pixellisée" />

    </div>
    <div class="graphG graph">
      <div id="profit" class="profit"></div>
    </div>
  </div>

    <div class="etape5">
      <div class="graph graphBig">
          <canvas id="ventesConsoles" width="900" height="400"></canvas>
      
      </div>
    </div>

    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>

      <div id="profitTooltip" 
     style="
       position:fixed;
       padding:6px 10px;
       background:black;
       color:#00ff00;
       font-family:monospace;
       font-size:12px;
       border:1px solid #00ff00;
       border-radius:4px;
       pointer-events:none;
       transform:translate(-50%, -120%);
       opacity:0;
       transition:opacity .15s;
     ">
</div>

<!-- Fenêtre modale -->
<div id="consoleModal" class="modal" style="
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.7);
  display: none;
  align-items: center;
  justify-content: center;
">
  <div style="
    background: #111;
    border: 1px solid #00ff00;
    padding: 20px;
    width: 400px;
    color: #00ff00;
    font-family: monospace;
  ">
    <h2 id="modalTitle"></h2>
    <p id="modalContent"></p>
    <button onclick="closeModal()" style="
      margin-top: 10px;
      padding: 5px 10px;
      background: black;
      border: 1px solid #00ff00;
      color: #00ff00;
      font-family: monospace;
    ">Fermer</button>
  </div>
</div>

<script>
function openModal(name, dataset) {
  document.getElementById("modalTitle").innerText = name;
  document.getElementById("modalContent").innerText =
    "Total des ventes : " +
    dataset.data.reduce((a, b) => a + (isNaN(b) ? 0 : b), 0).toLocaleString()
    + " unités";
  document.getElementById("consoleModal").style.display = "flex";
}

function closeModal() {
  document.getElementById("consoleModal").style.display = "none";
}
</script>


  </body>
</html>
